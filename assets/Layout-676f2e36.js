import{r as s,g as K,m as X,a as q,c as he,C as I,u as fe,b as k,t as ve,d as xe,e as U,f as _,j as a,L as ye,l as be,h as Se,i as D,k as L,n as Ce,O as $e}from"./index-ce4811d8.js";import{u as Y,S as je}from"./index-c22109bf.js";import{R as Oe,g as ze}from"./index-32fe9b10.js";import{r as Pe,i as we,g as Ne,P as Ee,a as ke,T as Re,D as Be,M as Te}from"./index-9996c8b6.js";import{u as Ie}from"./useBreakpoint-20daf7e9.js";import{D as Le}from"./DownOutlined-b863562b.js";const Me=s.createContext({}),M=Me,_e=e=>{const{antCls:t,componentCls:n,iconCls:r,avatarBg:o,avatarColor:c,containerSize:l,containerSizeLG:i,containerSizeSM:d,textFontSize:p,textFontSizeLG:f,textFontSizeSM:x,borderRadius:g,borderRadiusLG:u,borderRadiusSM:j,lineWidth:S,lineType:P}=e,O=(C,y,w)=>({width:C,height:C,lineHeight:`${C-S*2}px`,borderRadius:"50%",[`&${n}-square`]:{borderRadius:w},[`${n}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${n}-icon`]:{fontSize:y,[`> ${r}`]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},q(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:c,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:o,border:`${S}px ${P} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),O(l,p,g)),{"&-lg":Object.assign({},O(i,f,u)),"&-sm":Object.assign({},O(d,x,j)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Ae=e=>{const{componentCls:t,groupBorderColor:n,groupOverlapping:r,groupSpace:o}=e;return{[`${t}-group`]:{display:"inline-flex",[`${t}`]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:r}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:o}}}},Z=K("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:n}=e,r=X(e,{avatarBg:n,avatarColor:t});return[_e(r),Ae(r)]},e=>{const{controlHeight:t,controlHeightLG:n,controlHeightSM:r,fontSize:o,fontSizeLG:c,fontSizeXL:l,fontSizeHeading3:i,marginXS:d,marginXXS:p,colorBorderBg:f}=e;return{containerSize:t,containerSizeLG:n,containerSizeSM:r,textFontSize:Math.round((c+l)/2),textFontSizeLG:i,textFontSizeSM:o,groupSpace:p,groupOverlapping:-d,groupBorderColor:f}});var He=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const We=(e,t)=>{const[n,r]=s.useState(1),[o,c]=s.useState(!1),[l,i]=s.useState(!0),d=s.useRef(null),p=s.useRef(null),f=he(t,d),{getPrefixCls:x,avatar:g}=s.useContext(I),u=s.useContext(M),j=()=>{if(!p.current||!d.current)return;const m=p.current.offsetWidth,h=d.current.offsetWidth;if(m!==0&&h!==0){const{gap:b=4}=e;b*2<h&&r(h-b*2<m?(h-b*2)/m:1)}};s.useEffect(()=>{c(!0)},[]),s.useEffect(()=>{i(!0),r(1)},[e.src]),s.useEffect(j,[e.gap]);const S=()=>{const{onError:m}=e;(m==null?void 0:m())!==!1&&i(!1)},{prefixCls:P,shape:O,size:C,src:y,srcSet:w,icon:$,className:E,rootClassName:ne,alt:oe,draggable:se,children:A,crossOrigin:ae}=e,R=He(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),v=fe(m=>{var h,b;return(b=(h=C??(u==null?void 0:u.size))!==null&&h!==void 0?h:m)!==null&&b!==void 0?b:"default"}),le=Object.keys(typeof v=="object"?v||{}:{}).some(m=>["xs","sm","md","lg","xl","xxl"].includes(m)),H=Ie(le),ie=s.useMemo(()=>{if(typeof v!="object")return{};const m=Pe.find(b=>H[b]),h=v[m];return h?{width:h,height:h,lineHeight:`${h}px`,fontSize:$?h/2:18}:{}},[H,v]),z=x("avatar",P),[ce,de]=Z(z),pe=k({[`${z}-lg`]:v==="large",[`${z}-sm`]:v==="small"}),W=s.isValidElement(y),ge=O||(u==null?void 0:u.shape)||"circle",ue=k(z,pe,g==null?void 0:g.className,`${z}-${ge}`,{[`${z}-image`]:W||y&&l,[`${z}-icon`]:!!$},E,ne,de),me=typeof v=="number"?{width:v,height:v,lineHeight:`${v}px`,fontSize:$?v/2:18}:{};let N;if(typeof y=="string"&&l)N=s.createElement("img",{src:y,draggable:se,srcSet:w,onError:S,alt:oe,crossOrigin:ae});else if(W)N=y;else if($)N=$;else if(o||n!==1){const m=`scale(${n}) translateX(-50%)`,h={msTransform:m,WebkitTransform:m,transform:m},b=typeof v=="number"?{lineHeight:`${v}px`}:{};N=s.createElement(Oe,{onResize:j},s.createElement("span",{className:`${z}-string`,ref:p,style:Object.assign(Object.assign({},b),h)},A))}else N=s.createElement("span",{className:`${z}-string`,style:{opacity:0},ref:p},A);return delete R.onError,delete R.gap,ce(s.createElement("span",Object.assign({},R,{style:Object.assign(Object.assign(Object.assign(Object.assign({},me),ie),g==null?void 0:g.style),R.style),className:ue,ref:f}),N))},De=s.forwardRef(We),J=De,T=e=>e?typeof e=="function"?e():e:null,Fe=e=>{const{componentCls:t,popoverColor:n,minWidth:r,fontWeightStrong:o,popoverPadding:c,boxShadowSecondary:l,colorTextHeading:i,borderRadiusLG:d,zIndexPopup:p,marginXS:f,colorBgElevated:x,popoverBg:g}=e;return[{[t]:Object.assign(Object.assign({},q(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:p,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":x,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:g,backgroundClip:"padding-box",borderRadius:d,boxShadow:l,padding:c},[`${t}-title`]:{minWidth:r,marginBottom:f,color:i,fontWeight:o},[`${t}-inner-content`]:{color:n}})},Ne(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},Ge=e=>{const{componentCls:t}=e;return{[t]:Ee.map(n=>{const r=e[`${n}6`];return{[`&${t}-${n}`]:{"--antd-arrow-background-color":r,[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{background:"transparent"}}}})}},Ke=e=>{const{componentCls:t,lineWidth:n,lineType:r,colorSplit:o,paddingSM:c,controlHeight:l,fontSize:i,lineHeight:d,padding:p}=e,f=l-Math.round(i*d),x=f/2,g=f/2-n,u=p;return{[t]:{[`${t}-inner`]:{padding:0},[`${t}-title`]:{margin:0,padding:`${x}px ${u}px ${g}px`,borderBottom:`${n}px ${r} ${o}`},[`${t}-inner-content`]:{padding:`${c}px ${u}px`}}}},Q=K("Popover",e=>{const{colorBgElevated:t,colorText:n,wireframe:r}=e,o=X(e,{popoverPadding:12,popoverBg:t,popoverColor:n});return[Fe(o),Ge(o),r&&Ke(o),we(o,"zoom-big")]},e=>({width:177,minWidth:177,zIndexPopup:e.zIndexPopupBase+30}),{resetStyle:!1,deprecatedTokens:[["width","minWidth"]]});var Xe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const qe=(e,t,n)=>{if(!(!t&&!n))return s.createElement(s.Fragment,null,t&&s.createElement("div",{className:`${e}-title`},T(t)),s.createElement("div",{className:`${e}-inner-content`},T(n)))},Ue=e=>{const{hashId:t,prefixCls:n,className:r,style:o,placement:c="top",title:l,content:i,children:d}=e;return s.createElement("div",{className:k(t,n,`${n}-pure`,`${n}-placement-${c}`,r),style:o},s.createElement("div",{className:`${n}-arrow`}),s.createElement(ke,Object.assign({},e,{className:t,prefixCls:n}),d||qe(n,l,i)))},Ye=e=>{const{prefixCls:t}=e,n=Xe(e,["prefixCls"]),{getPrefixCls:r}=s.useContext(I),o=r("popover",t),[c,l]=Q(o);return c(s.createElement(Ue,Object.assign({},n,{prefixCls:o,hashId:l})))},Ze=Ye;var Je=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Qe=e=>{let{title:t,content:n,prefixCls:r}=e;return s.createElement(s.Fragment,null,t&&s.createElement("div",{className:`${r}-title`},T(t)),s.createElement("div",{className:`${r}-inner-content`},T(n)))},V=s.forwardRef((e,t)=>{const{prefixCls:n,title:r,content:o,overlayClassName:c,placement:l="top",trigger:i="hover",mouseEnterDelay:d=.1,mouseLeaveDelay:p=.1,overlayStyle:f={}}=e,x=Je(e,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:g}=s.useContext(I),u=g("popover",n),[j,S]=Q(u),P=g(),O=k(c,S);return j(s.createElement(Re,Object.assign({placement:l,trigger:i,mouseEnterDelay:d,mouseLeaveDelay:p,overlayStyle:f},x,{prefixCls:u,overlayClassName:O,ref:t,overlay:r||o?s.createElement(Qe,{prefixCls:u,title:r,content:o}):null,transitionName:ze(P,"zoom-big",x.transitionName),"data-popover-inject":!0})))});V._InternalPanelDoNotUseOrYouWillBeFired=Ze;const Ve=V,F=e=>{const{size:t,shape:n}=s.useContext(M),r=s.useMemo(()=>({size:e.size||t,shape:e.shape||n}),[e.size,e.shape,t,n]);return s.createElement(M.Provider,{value:r},e.children)},et=e=>{const{getPrefixCls:t,direction:n}=s.useContext(I),{prefixCls:r,className:o,rootClassName:c,style:l,maxCount:i,maxStyle:d,size:p,shape:f,maxPopoverPlacement:x="top",maxPopoverTrigger:g="hover",children:u}=e,j=t("avatar",r),S=`${j}-group`,[P,O]=Z(j),C=k(S,{[`${S}-rtl`]:n==="rtl"},o,c,O),y=ve(u).map(($,E)=>xe($,{key:`avatar-key-${E}`})),w=y.length;if(i&&i<w){const $=y.slice(0,i),E=y.slice(i,w);return $.push(s.createElement(Ve,{key:"avatar-popover-key",content:E,trigger:g,placement:x,overlayClassName:`${S}-popover`},s.createElement(J,{style:d},`+${w-i}`))),P(s.createElement(F,{shape:f,size:p},s.createElement("div",{className:C,style:l},$)))}return P(s.createElement(F,{shape:f,size:p},s.createElement("div",{className:C,style:l},y)))},tt=et,ee=J;ee.Group=tt;const rt=ee,nt=[{key:"1",label:a.jsx("span",{children:"Log out"})}],ot=()=>{const e=Y(),t=U(),n=_(o=>o.user.name),r=({key:o})=>{o==="1"&&(e(be()),t("/login"))};return a.jsxs("div",{className:"topbar",children:[a.jsx("div",{className:"left",children:a.jsx(ye,{to:"/",children:a.jsx("div",{className:"title",children:"React Admin"})})}),a.jsxs("div",{className:"right",children:[a.jsx(je,{}),a.jsx(rt,{size:"small",style:{backgroundColor:"#fff",color:"rgba(23,72,200,1)"},children:n.charAt(0)}),a.jsx("div",{className:"user",children:a.jsx("div",{className:"name",children:n})}),a.jsx("div",{className:"dropdown",children:a.jsx(Be,{menu:{items:nt,onClick:r},children:a.jsx("a",{onClick:o=>o.preventDefault(),children:a.jsx(Le,{})})})})]})]})};function G(e,t,n,r,o){return{key:t,icon:n,children:r,label:e,path:o}}const te=e=>e.map(t=>t.children?G(D.t("menus."+t.label,t.label),t.path,t.icon,te(t.children)):G(D.t("menus."+t.label,t.label),t.path,t.icon));let B=[];const re=(e,t,n)=>e.map(r=>{if(r.children)return{path:r.path,openKeys:[],children:re(r.children,t,r.path)};{let o=[];return n&&o.push(n),t===r.path&&(Object.assign(B,[n]),B=B),{openKeys:o,path:r.path}}}),st=e=>{const{isCollapsed:t,menuRouters:n}=e,r=U(),o=i=>{r(i.key||"/")},c=Se(),{pathname:l}=c;return re(n,l,""),a.jsx(Te,{onClick:o,defaultOpenKeys:B,defaultSelectedKeys:[l],selectedKeys:[l],mode:"inline",inlineCollapsed:t,items:te(n),className:"siderbarMenu",getPopupContainer:function(d){return d.parentNode}})};const at=e=>{const{isActive:t,toggleClick:n}=e;return a.jsx("div",{className:"com-toggle",onClick:n,children:a.jsx("svg",{className:t?"is-active":"",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",children:a.jsx("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"})})})},lt=()=>{let e=[],t=[];L&&L.length>0&&(e=L.filter(o=>o.isRoot),t=e[0].children||[]);const n=_(o=>o.app.sidebar.opened),r=Y();return a.jsxs("div",{className:"sidebar-container",children:[a.jsx("div",{className:"scrollbar-wrapper",children:a.jsx(st,{isCollapsed:n,menuRouters:t})}),a.jsx("div",{className:"collapse",children:a.jsx(at,{isActive:!n,toggleClick:()=>r(Ce())})})]})},mt=()=>{const e=_(t=>t.app.sidebar.opened);return a.jsxs("div",{className:`app-wrapper${e?" hideSidebar":""}`,children:[a.jsx("div",{className:"topbar-container",children:a.jsx(ot,{})}),a.jsx(lt,{}),a.jsx("div",{className:"main-container",children:a.jsx("div",{className:"app-container",children:a.jsx($e,{})})})]})};export{mt as default};
