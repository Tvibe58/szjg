import{j as s,L as j,u as f,a as b,i as d,r as o,b as u,t as N,c as w,O as y,d as S}from"./index-31bd6e39.js";import{S as C,u as h}from"./index-3125314c.js";import{M as L}from"./index-4e2e8a88.js";import"./roundedArrow-0c260621.js";import"./gapSize-e190580d.js";import"./Overflow-6c815a98.js";const z=()=>s.jsxs("div",{className:"topbar",children:[s.jsx("div",{className:"left",children:s.jsx(j,{to:"/",children:s.jsx("div",{className:"title",children:"SZJG"})})}),s.jsx("div",{className:"right",children:s.jsx(C,{})})]});function p(t,e,n,c,r){return{key:e,icon:n,children:c,label:t,path:r}}const v=t=>t.map(e=>{if(!e.hidden)return e.children?p(d.t("menus."+e.label,e.label),e.path,e.icon,v(e.children)):p(d.t("menus."+e.label,e.label),e.path,e.icon)});let a=[];const x=(t,e,n)=>t.map(c=>{if(c.children)return{path:c.path,openKeys:[],children:x(c.children,e,c.path)};{let r=[];return n&&r.push(n),e===c.path&&(Object.assign(a,[n]),a=a),{openKeys:r,path:c.path}}}),K=t=>{const{isCollapsed:e,menuRouters:n}=t,c=f(),r=l=>{c(l.key||"/")},g=b(),{pathname:i}=g;return x(n,i,""),s.jsx(L,{onClick:r,defaultOpenKeys:a,defaultSelectedKeys:[i],selectedKeys:[i],mode:"inline",inlineCollapsed:e,items:v(n),className:"siderbarMenu",getPopupContainer:function(m){return m.parentNode}})};const M=t=>{const{isActive:e,toggleClick:n}=t;return s.jsx("div",{className:"com-toggle",onClick:n,children:s.jsx("svg",{className:e?"is-active":"",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",children:s.jsx("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"})})})},k=()=>{let t=[],e=[];o&&o.length>0&&(t=o.filter(r=>r.isRoot),e=t[0].children||[]);const n=u(r=>r.app.sidebar.opened),c=h();return s.jsxs("div",{className:"sidebar-container",children:[s.jsx("div",{className:"scrollbar-wrapper",children:s.jsx(K,{isCollapsed:!n,menuRouters:e})}),s.jsx("div",{className:"collapse",children:s.jsx(M,{isActive:n,toggleClick:()=>c(N())})})]})},{body:B}=document,H=992,I=()=>{const t=h(),e=()=>B.getBoundingClientRect().width-1<H,n=()=>{document.hidden||e()&&t(S())};w.useEffect(()=>(window.addEventListener("resize",n),()=>{window.addEventListener("resize",n)}));const c=u(r=>r.app.sidebar.opened);return s.jsxs("div",{className:`app-wrapper${c?"":" hideSidebar"}`,children:[s.jsx("div",{className:"topbar-container",children:s.jsx(z,{})}),s.jsx(k,{}),s.jsx("div",{className:"main-container",children:s.jsx("div",{className:"app-container",children:s.jsx(y,{})})})]})};export{I as default};
